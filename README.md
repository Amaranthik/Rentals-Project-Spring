# Rentals Management System

Итоговый проект (ИКМ) по дисциплине **«Язык программирования Java»**.  
Веб‑приложение на **Spring Boot Web MVC** для управления арендой недвижимости.

Система позволяет работать с тремя основными сущностями:

- пользователи (арендодатели и арендаторы),
- объекты недвижимости,
- бронирования.

---

## Функциональность

### Объекты недвижимости (`properties`)
- Просмотр списка всех объектов.
- Поиск по названию и городу.
- Добавление нового объекта с указанием владельца.
- Редактирование существующего объекта.
- Удаление объекта.
- Валидация:
    - цена не может быть отрицательной;
    - обязательные поля: название, адрес, владелец, цена.

### Пользователи (`users`)
- Просмотр списка всех пользователей.
- Добавление нового пользователя.
- Редактирование данных пользователя (ФИО, email, телефон, роль).
- Удаление пользователя (если нет зависимых объектов).
- Валидация телефона:
    - автоматическая подстановка префикса `+7`;
    - допускаются только цифры после `+7`;
    - ограничение длины строки.

### Бронирования (`bookings`)
- Создание бронирования для выбранного объекта и пользователя.
- Просмотр списка всех бронирований.
- Отмена бронирования (удаление записи).
- Валидация:
    - дата выезда не может быть раньше даты заезда;
    - ограничение по году (до 2100);
    - сумма договора не может быть отрицательной.

---

## Технологический стек

- **Язык:** Java 17 (запуск на JDK 20)
- **Фреймворк:** Spring Boot 3 (Spring Web, Spring Data JPA)
- **База данных:** PostgreSQL
- **ORM:** Hibernate (через Spring Data JPA)
- **Шаблоны:** Thymeleaf
- **Стили:** Bootstrap 5
- **Сборка:** Maven
- **Утилиты:** Lombok

---

## Структура проекта

```text
src/
 └── main/
     ├── java/
     │   └── com/example/rentals/
     │       ├── RentalsApplication.java        // точка входа в приложение
     │       ├── controller/
     │       │   └── PropertyController.java    // контроллер для объектов, бронирований и пользователей
     │       ├── entity/
     │       │   ├── User.java                  // сущность пользователя (таблица users)
     │       │   ├── Property.java              // сущность объекта (таблица properties)
     │       │   └── Booking.java               // сущность бронирования (таблица bookings)
     │       └── repository/
     │           ├── UserRepository.java        // доступ к таблице users
     │           ├── PropertyRepository.java    // доступ к таблице properties
     │           └── BookingRepository.java     // доступ к таблице bookings
     └── resources/
         ├── templates/
         │   ├── properties-list.html           // список объектов + поиск
         │   ├── property-form.html             // форма добавления/редактирования объекта
         │   ├── bookings-list.html             // список бронирований
         │   ├── booking-form.html              // форма оформления договора
         │   ├── users-list.html                // список пользователей
         │   └── user-form.html                 // форма добавления/редактирования пользователя
         └── application.properties             // настройки подключения к БД и JPA